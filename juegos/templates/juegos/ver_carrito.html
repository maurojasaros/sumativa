{% extends 'juegos/base_generic.html' %}

{% block title %}Ver Carrito{% endblock %}

{% block content %}
    <!-- Mostrar mensajes de éxito o error -->
    {% if messages %}
        <div class="alert alert-info">
            {% for message in messages %}
                {{ message }}
            {% endfor %}
        </div>
    {% endif %}

    <h1>Tu Carrito</h1>
    <ul class="list-group">
        {% for item in items %}
            <li class="list-group-item">
                {{ item.juego.nombre }} - {{ item.cantidad }} - {{ item.juego.precio }} USD
                <a href="{% url 'eliminar_del_carrito' item.id %}" class="btn btn-danger btn-sm float-end">Eliminar</a>
            </li>
        {% empty %}
            <li class="list-group-item">Tu carrito está vacío.</li>
        {% endfor %}
    </ul>
    <p class="mt-3">Total: {{ total }} USD</p>
    <a href="{% url 'realizar_pedido' %}" class="btn btn-primary">Realizar Pedido</a>
{% endblock %}